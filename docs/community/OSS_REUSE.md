// CLASSIFICATION: COMMUNITY
// Filename: OSS_REUSE.md v1.5
// Author: Lukas Bower
// Date Modified: 2025-07-07

# OSS REUSE POLICY

This document outlines the policies and practices for open source software reuse in the Cohesix project. It enforces license compliance, traceability, and alignment with security and proof goals.

## 1 · License Requirements

All reused code must be under a license that is:
- MIT
- BSD (2-Clause or 3-Clause)
- Apache 2.0

Use of any other license (e.g., LGPL, GPL, MPL) is strictly prohibited unless explicitly approved and sandboxed.

## 2 · SPDX Headers

All imported files must include an SPDX license identifier at the top:
```
// SPDX-License-Identifier: MIT
```
or equivalent for BSD or Apache. These tags must match the license declared in the reuse registry.

## 3 · Registry and Traceability

Every third-party component must be listed in `OSS_REUSE.md` with:
- Name and version
- License
- Source URL or repository
- Purpose or usage in Cohesix

Example:
```
crate: rapier3d v0.17.2 — Apache-2.0
https://github.com/dimforge/rapier
Used in: Physics module (/sim/) on DroneWorker
```
crate: p9 v0.3.2 — BSD-3-Clause
https://github.com/google/rust-p9
Used in: 9P file system server (`cohesix-9p` crate)
```
```
crate: ureq v2.9 — MIT
https://github.com/algesten/ureq
Used in: Cloud init HTTP client
```
crate: v4l v0.14 — MIT
https://github.com/raymanfx/libv4l-rs
Used in: Webcam service (/srv/webcam)
```
```
module: github.com/spf13/cobra v1.8.0 — Apache-2.0
https://github.com/spf13/cobra
Used in: cohcli command-line interface
```


## 4 · Audit Tools

Use license scanning tools (e.g., `cargo deny`, `reuse lint`, `oss-review-toolkit`) to validate all dependencies. Include scan reports in CI logs or validation outputs when publishing a release.

## 5 · Prohibited Sources

Do not import code from:
- Stack Overflow (unclear licensing)
- GitHub Gists without license
- GPL-licensed projects or forks
- AI-generated code unless it meets SPDX tagging and license traceability

## 6 · Generated Code Rules

AI- or tool-generated code is allowed if:
- It is marked with SPDX
- It is reviewed and accepted by a human developer
- It does not copy from prohibited sources

Use the following comment in generated files:
```
// Generated by [tool] — reviewed and SPDX-compliant
```

## 7 · Enforcement

CI must fail if:
- Any file lacks SPDX
- Any non-compliant license is detected
- Any dependency is not listed in `OSS_REUSE.md`

## 8 · Exceptions

Temporary exceptions may be granted by the project lead and must be documented inline and in this file.

---
For questions or reviews, contact the Cohesix compliance lead.

## 9 · Cohesix Dependency Table

| Component | Source | License | Usage |
|----------|--------|---------|-------|
| Rapier   | <https://github.com/dimforge/rapier> | MIT | Physics backend |
| CUDA     | <https://github.com/rust-cuda/cuda-sys> / libcuda.so | BSD | GPU compute |
| 9P Mux   | Cohesix custom + 9fans Go port | MIT | FS routing |
| BusyBox  | <https://busybox.net> | GPL-2.0 | Shell commands |
| seL4     | <https://github.com/seL4/seL4> | GPL-2.0 | Microkernel |

BusyBox is compiled as a standalone static binary executed in its own sandboxed
process. No BusyBox object code is linked into Cohesix user applications.
The seL4 microkernel is loaded as a separate image and interacts with user
space solely via IPC, keeping GPL code isolated from MIT/BSD components.

```
crate: image v0.25.6 — MIT OR Apache-2.0
https://github.com/image-rs/image
Used in: Webcam capture JPEG encoding
```
