#!/bin/sh
# CLASSIFICATION: COMMUNITY
# Filename: man v0.2
# Author: Lukas Bower
# Date Modified: 2025-06-22
# Minimal man command for Cohesix using mandoc

if [ $# -eq 0 ]; then
    echo "usage: man <topic>" >&2
    exit 1
fi

topic="$1"
shift || true
page="$topic"
if [ ! -f "$page" ]; then
    page=$(ls /usr/share/man/"$topic".* 2>/dev/null | head -n1)
fi
if [ ! -f "$page" ]; then
    echo "man: no entry for $topic" >&2
    exit 1
fi

exec /bin/mandoc -a "$page" "$@" | less
