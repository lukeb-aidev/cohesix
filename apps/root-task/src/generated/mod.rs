// Author: Lukas Bower
// Purpose: Generated root-task manifest tables and helpers.
// @generated by coh-rtc; do not edit.

#![allow(clippy::all)]
#![allow(dead_code)]

use cohesix_ticket::Role;

mod bootstrap;

#[derive(Clone, Copy, Debug)]
pub struct TicketSpec {
    pub role: Role,
    pub secret: &'static str,
}

#[derive(Clone, Copy, Debug)]
pub struct NamespaceMount {
    pub service: &'static str,
    pub target: &'static [&'static str],
}

#[derive(Clone, Copy, Debug)]
pub struct CachePolicy {
    pub kernel_ops: bool,
    pub dma_clean: bool,
    pub dma_invalidate: bool,
    pub unify_instructions: bool,
}

#[derive(Clone, Copy, Debug)]
pub enum ShortWritePolicy {
    Reject,
    Retry,
}

#[derive(Clone, Copy, Debug)]
pub struct Secure9pLimits {
    pub msize: u32,
    pub walk_depth: u8,
    pub tags_per_session: u16,
    pub batch_frames: u16,
    pub short_write_policy: ShortWritePolicy,
}

#[derive(Clone, Copy, Debug)]
pub struct TicketLimits {
    pub max_scopes: u16,
    pub max_scope_path_len: u16,
    pub max_scope_rate_per_s: u32,
    pub bandwidth_bytes: u64,
    pub cursor_resumes: u32,
    pub cursor_advances: u32,
}

#[derive(Clone, Copy, Debug)]
pub struct ShardingConfig {
    pub enabled: bool,
    pub shard_bits: u8,
    pub legacy_worker_alias: bool,
}

#[derive(Clone, Copy, Debug)]
pub enum TelemetryFrameSchema {
    LegacyPlaintext,
    CborV1,
}

#[derive(Clone, Copy, Debug)]
pub struct TelemetryCursorConfig {
    pub retain_on_boot: bool,
}

#[derive(Clone, Copy, Debug)]
pub struct TelemetryConfig {
    pub ring_bytes_per_worker: u32,
    pub frame_schema: TelemetryFrameSchema,
    pub cursor: TelemetryCursorConfig,
}

#[derive(Clone, Copy, Debug)]
pub enum TelemetryIngestEvictionPolicy {
    Refuse,
    EvictOldest,
}

#[derive(Clone, Copy, Debug)]
pub struct TelemetryIngestConfig {
    pub max_segments_per_device: u32,
    pub max_bytes_per_segment: u32,
    pub max_total_bytes_per_device: u32,
    pub eviction_policy: TelemetryIngestEvictionPolicy,
}

#[derive(Clone, Copy, Debug)]
pub struct CasConfig {
    pub enable: bool,
    pub chunk_bytes: u32,
    pub delta_enable: bool,
    pub signing_required: bool,
    pub signing_key: Option<[u8; 32]>,
    pub models_enabled: bool,
}

#[derive(Clone, Copy, Debug)]
pub struct Proc9pConfig {
    pub sessions: bool,
    pub outstanding: bool,
    pub short_writes: bool,
    pub sessions_bytes: u32,
    pub outstanding_bytes: u32,
    pub short_writes_bytes: u32,
}

#[derive(Clone, Copy, Debug)]
pub struct ProcIngestConfig {
    pub p50_ms: bool,
    pub p95_ms: bool,
    pub backpressure: bool,
    pub dropped: bool,
    pub queued: bool,
    pub watch: bool,
    pub p50_ms_bytes: u32,
    pub p95_ms_bytes: u32,
    pub backpressure_bytes: u32,
    pub dropped_bytes: u32,
    pub queued_bytes: u32,
    pub watch_max_entries: u16,
    pub watch_line_bytes: u32,
    pub watch_min_interval_ms: u64,
    pub latency_samples: u16,
    pub latency_tolerance_ms: u32,
    pub counter_tolerance: u32,
}

#[derive(Clone, Copy, Debug)]
pub struct ObservabilityConfig {
    pub proc_9p: Proc9pConfig,
    pub proc_ingest: ProcIngestConfig,
}

#[derive(Clone, Copy, Debug)]
pub struct UiProc9pConfig {
    pub sessions: bool,
    pub outstanding: bool,
    pub short_writes: bool,
}

#[derive(Clone, Copy, Debug)]
pub struct UiProcIngestConfig {
    pub p50_ms: bool,
    pub p95_ms: bool,
    pub backpressure: bool,
}

#[derive(Clone, Copy, Debug)]
pub struct UiPolicyPreflightConfig {
    pub req: bool,
    pub diff: bool,
}

#[derive(Clone, Copy, Debug)]
pub struct UiUpdatesConfig {
    pub manifest: bool,
    pub status: bool,
}

#[derive(Clone, Copy, Debug)]
pub struct UiProviderConfig {
    pub proc_9p: UiProc9pConfig,
    pub proc_ingest: UiProcIngestConfig,
    pub policy_preflight: UiPolicyPreflightConfig,
    pub updates: UiUpdatesConfig,
}

#[derive(Clone, Copy, Debug, PartialEq, Eq)]
pub enum HostProvider {
    Systemd,
    K8s,
    Nvidia,
    Jetson,
    Net,
}

#[derive(Clone, Copy, Debug)]
pub struct HostConfig {
    pub enable: bool,
    pub mount_at: &'static str,
    pub providers: &'static [HostProvider],
}

#[derive(Clone, Copy, Debug)]
pub enum SidecarLink {
    Serial,
    Tcp,
}

#[derive(Clone, Copy, Debug)]
pub struct SpoolConfig {
    pub max_entries: u16,
    pub max_bytes: u32,
}

#[derive(Clone, Copy, Debug)]
pub struct SidecarBusAdapter {
    pub id: &'static str,
    pub mount: &'static str,
    pub scope: &'static str,
    pub link: SidecarLink,
    pub baud: u32,
    pub spool: SpoolConfig,
}

#[derive(Clone, Copy, Debug)]
pub struct SidecarBusConfig {
    pub enable: bool,
    pub mount_at: &'static str,
    pub adapters: &'static [SidecarBusAdapter],
}

#[derive(Clone, Copy, Debug)]
pub struct SidecarLoraAdapter {
    pub id: &'static str,
    pub mount: &'static str,
    pub scope: &'static str,
    pub region: &'static str,
    pub duty_cycle_percent: u8,
    pub window_ms: u64,
    pub max_payload_bytes: u32,
    pub tamper_log_max_entries: u16,
}

#[derive(Clone, Copy, Debug)]
pub struct SidecarLoraConfig {
    pub enable: bool,
    pub mount_at: &'static str,
    pub adapters: &'static [SidecarLoraAdapter],
}

#[derive(Clone, Copy, Debug)]
pub struct SidecarConfig {
    pub modbus: SidecarBusConfig,
    pub dnp3: SidecarBusConfig,
    pub lora: SidecarLoraConfig,
}

#[derive(Clone, Copy, Debug)]
pub struct PolicyRule {
    pub id: &'static str,
    pub target: &'static str,
}

#[derive(Clone, Copy, Debug)]
pub struct PolicyLimits {
    pub queue_max_entries: u16,
    pub queue_max_bytes: u32,
    pub ctl_max_bytes: u32,
    pub status_max_bytes: u32,
}

#[derive(Clone, Copy, Debug)]
pub struct PolicyConfig {
    pub enable: bool,
    pub limits: PolicyLimits,
    pub rules: &'static [PolicyRule],
}

#[derive(Clone, Copy, Debug)]
pub struct AuditConfig {
    pub enable: bool,
    pub journal_max_bytes: u32,
    pub decisions_max_bytes: u32,
    pub replay_enable: bool,
    pub replay_max_entries: u16,
    pub replay_ctl_max_bytes: u32,
    pub replay_status_max_bytes: u32,
}

pub const MANIFEST_SCHEMA: &str = "1.5";
pub const MANIFEST_SHA256: &str = "ea6ca43101b547b7730d1b706dc19d88ee08e9d428d9e8d5e411b459afa2c547";
pub const TICKET_TABLE_SHA256: &str = bootstrap::TICKET_TABLE_SHA256;
pub const NAMESPACE_TABLE_SHA256: &str = bootstrap::NAMESPACE_TABLE_SHA256;
pub const AUDIT_TABLE_SHA256: &str = bootstrap::AUDIT_TABLE_SHA256;
pub const CACHE_POLICY: CachePolicy = bootstrap::CACHE_POLICY;
pub const SECURE9P_LIMITS: Secure9pLimits = bootstrap::SECURE9P_LIMITS;
pub const TICKET_LIMITS: TicketLimits = bootstrap::TICKET_LIMITS;
pub const SHARDING_CONFIG: ShardingConfig = bootstrap::SHARDING_CONFIG;
pub const SHARD_COUNT: usize = bootstrap::SHARD_LABELS.len();
pub const TELEMETRY_CONFIG: TelemetryConfig = bootstrap::TELEMETRY_CONFIG;
pub const TELEMETRY_INGEST_CONFIG: TelemetryIngestConfig = bootstrap::TELEMETRY_INGEST_CONFIG;
pub const OBSERVABILITY_CONFIG: ObservabilityConfig = bootstrap::OBSERVABILITY_CONFIG;
pub const UI_PROVIDER_CONFIG: UiProviderConfig = bootstrap::UI_PROVIDER_CONFIG;
pub const CAS_CONFIG: CasConfig = bootstrap::CAS_CONFIG;
pub const PROC_9P_SESSIONS_BYTES: usize = bootstrap::PROC_9P_SESSIONS_BYTES;
pub const PROC_9P_OUTSTANDING_BYTES: usize = bootstrap::PROC_9P_OUTSTANDING_BYTES;
pub const PROC_9P_SHORT_WRITES_BYTES: usize = bootstrap::PROC_9P_SHORT_WRITES_BYTES;
pub const PROC_INGEST_P50_BYTES: usize = bootstrap::PROC_INGEST_P50_BYTES;
pub const PROC_INGEST_P95_BYTES: usize = bootstrap::PROC_INGEST_P95_BYTES;
pub const PROC_INGEST_BACKPRESSURE_BYTES: usize = bootstrap::PROC_INGEST_BACKPRESSURE_BYTES;
pub const PROC_INGEST_DROPPED_BYTES: usize = bootstrap::PROC_INGEST_DROPPED_BYTES;
pub const PROC_INGEST_QUEUED_BYTES: usize = bootstrap::PROC_INGEST_QUEUED_BYTES;
pub const PROC_INGEST_WATCH_MAX_ENTRIES: usize = bootstrap::PROC_INGEST_WATCH_MAX_ENTRIES;
pub const PROC_INGEST_WATCH_LINE_BYTES: usize = bootstrap::PROC_INGEST_WATCH_LINE_BYTES;
pub const PROC_INGEST_LATENCY_SAMPLES: usize = bootstrap::PROC_INGEST_LATENCY_SAMPLES;
pub const HOST_CONFIG: HostConfig = bootstrap::HOST_CONFIG;
pub const SIDECAR_CONFIG: SidecarConfig = bootstrap::SIDECAR_CONFIG;
pub const POLICY_CONFIG: PolicyConfig = bootstrap::POLICY_CONFIG;
pub const POLICY_RULES_JSON: &str = bootstrap::POLICY_RULES_JSON;
pub const AUDIT_CONFIG: AuditConfig = bootstrap::AUDIT_CONFIG;
pub const EVENT_PUMP_FDS: &[&str] = &bootstrap::EVENT_PUMP_FDS;

pub const fn ticket_inventory() -> &'static [TicketSpec] {
    &bootstrap::TICKET_INVENTORY
}

pub const fn namespace_mounts() -> &'static [NamespaceMount] {
    &bootstrap::NAMESPACE_MOUNTS
}

pub const fn initial_audit_lines() -> &'static [&'static str] {
    &bootstrap::INITIAL_AUDIT_LINES
}

pub const fn cache_policy() -> CachePolicy {
    bootstrap::CACHE_POLICY
}

pub const fn secure9p_limits() -> Secure9pLimits {
    bootstrap::SECURE9P_LIMITS
}

pub const fn ticket_limits() -> TicketLimits {
    bootstrap::TICKET_LIMITS
}

pub const fn sharding_config() -> ShardingConfig {
    bootstrap::SHARDING_CONFIG
}

pub const fn shard_labels() -> &'static [&'static str] {
    &bootstrap::SHARD_LABELS
}

pub const fn telemetry_config() -> TelemetryConfig {
    bootstrap::TELEMETRY_CONFIG
}

pub const fn telemetry_ingest_config() -> TelemetryIngestConfig {
    bootstrap::TELEMETRY_INGEST_CONFIG
}

pub const fn observability_config() -> ObservabilityConfig {
    bootstrap::OBSERVABILITY_CONFIG
}

pub const fn ui_provider_config() -> UiProviderConfig {
    bootstrap::UI_PROVIDER_CONFIG
}

pub const fn cas_config() -> CasConfig {
    bootstrap::CAS_CONFIG
}

pub const fn host_config() -> HostConfig {
    bootstrap::HOST_CONFIG
}

pub const fn sidecar_config() -> SidecarConfig {
    bootstrap::SIDECAR_CONFIG
}

pub const fn policy_config() -> PolicyConfig {
    bootstrap::POLICY_CONFIG
}

pub const fn policy_rules_json() -> &'static str {
    bootstrap::POLICY_RULES_JSON
}

pub const fn audit_config() -> AuditConfig {
    bootstrap::AUDIT_CONFIG
}

pub const fn event_pump_fds() -> &'static [&'static str] {
    &bootstrap::EVENT_PUMP_FDS
}

pub const TICKET_COUNT: usize = bootstrap::TICKET_INVENTORY.len();
