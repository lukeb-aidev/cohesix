{
  "meta": {
    "author": "Lukas Bower",
    "purpose": "Root-task manifest input for coh-rtc."
  },
  "root_task": {
    "schema": "1.4"
  },
  "profile": {
    "name": "virt-aarch64",
    "kernel": true
  },
  "event_pump": {
    "tick_ms": 5
  },
  "secure9p": {
    "msize": 8192,
    "walk_depth": 8,
    "tags_per_session": 16,
    "batch_frames": 1,
    "short_write": {
      "policy": "reject"
    }
  },
  "features": {
    "net_console": true,
    "serial_console": true,
    "std_console": false,
    "std_host_tools": false
  },
  "cache": {
    "kernel_ops": true,
    "dma_clean": true,
    "dma_invalidate": true,
    "unify_instructions": false
  },
  "tickets": [
    {
      "role": "queen",
      "secret": "bootstrap"
    },
    {
      "role": "worker-heartbeat",
      "secret": "worker"
    },
    {
      "role": "worker-gpu",
      "secret": "worker-gpu"
    }
  ],
  "namespaces": {
    "role_isolation": true,
    "mounts": []
  },
  "sharding": {
    "enabled": true,
    "shard_bits": 8,
    "legacy_worker_alias": true
  },
  "ecosystem": {
    "host": {
      "enable": false,
      "providers": [],
      "mount_at": "/host"
    },
    "audit": {
      "enable": false,
      "journal_max_bytes": 8192,
      "decisions_max_bytes": 4096,
      "replay_enable": false,
      "replay_max_entries": 64,
      "replay_ctl_max_bytes": 1024,
      "replay_status_max_bytes": 1024
    },
    "policy": {
      "enable": false,
      "queue_max_entries": 32,
      "queue_max_bytes": 4096,
      "ctl_max_bytes": 2048,
      "status_max_bytes": 512,
      "rules": [
        {
          "id": "queen-ctl",
          "target": "/queen/ctl"
        },
        {
          "id": "systemd-restart",
          "target": "/host/systemd/*/restart"
        }
      ]
    },
    "models": {
      "enable": false
    }
  },
  "telemetry": {
    "ring_bytes_per_worker": 1024,
    "frame_schema": "legacy-plaintext",
    "cursor": {
      "retain_on_boot": false
    }
  },
  "observability": {
    "proc_9p": {
      "sessions": true,
      "outstanding": true,
      "short_writes": true,
      "sessions_bytes": 8192,
      "outstanding_bytes": 128,
      "short_writes_bytes": 128
    },
    "proc_ingest": {
      "p50_ms": true,
      "p95_ms": true,
      "backpressure": true,
      "dropped": true,
      "queued": true,
      "watch": true,
      "p50_ms_bytes": 64,
      "p95_ms_bytes": 64,
      "backpressure_bytes": 64,
      "dropped_bytes": 64,
      "queued_bytes": 64,
      "watch_max_entries": 16,
      "watch_line_bytes": 192,
      "watch_min_interval_ms": 50,
      "latency_samples": 32,
      "latency_tolerance_ms": 5,
      "counter_tolerance": 1
    }
  },
  "client_policies": {
    "cohsh": {
      "pool": {
        "control_sessions": 2,
        "telemetry_sessions": 4
      }
    },
    "retry": {
      "max_attempts": 3,
      "backoff_ms": 200,
      "ceiling_ms": 2000,
      "timeout_ms": 5000
    },
    "heartbeat": {
      "interval_ms": 15000
    }
  },
  "cas": {
    "enable": true,
    "store": {
      "chunk_bytes": 128
    },
    "delta": {
      "enable": true
    },
    "signing": {
      "required": true,
      "key_path": "resources/fixtures/cas_signing_key.hex"
    }
  }
}